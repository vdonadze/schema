apiVersion: th2.exactpro.com/v2
kind: Th2Mstore
metadata:
  name: mstore
spec:
  imageName: ghcr.io/th2-net/th2-mstore
  imageVersion: 5.0.0-dev-version-5-3367909079-d1faa56
  pins:
    mq:
      subscribers:
        - name: mstore_custom_pin
          attributes:
            - parsed
          linkTo:
            - box: estore
              pin: to_mstore
        - name: to_send_codec
          attributes:
            - parsed
            - first
            - oe
            - subscribe
      publishers:
        - name: to_act_fix
          attributes:
            - parsed
            - publish
          filters:
            - metadata:
                - expectedValue: fix-client
                  fieldName: session_alias
                  operation: EQUAL
  extendedSettings:
    envVariables:
      JAVA_TOOL_OPTIONS: -XX:+ExitOnOutOfMemoryError -Ddatastax-java-driver.advanced.connection.init-query-timeout="5000
        milliseconds"
    resources:
      limits:
        cpu: 300m
        memory: 300Mi
      requests:
        cpu: 20m
        memory: 100Mi
    service:
      enabled: false
